<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Just One Question ğŸ’–</title>
  <style>
  *,
*::before,
*::after {
  box-sizing: border-box;
}

	body {
	  height: 100vh;
	  background: linear-gradient(
		135deg,
		#ff9a9e,
		#fad0c4,
		#ffd6e0
	  );
	  background-size: 300% 300%;
	  animation: gradientMove 10s ease infinite;
	  display: flex;
	  justify-content: center;
	  align-items: center;
	  font-family: 'Comic Sans MS', cursive;
	  overflow-x: hidden;
	}

	@keyframes gradientMove {
	  0% { background-position: 0% 50%; }
	  50% { background-position: 100% 50%; }
	  100% { background-position: 0% 50%; }
	}


    .box {
	  background: white;
	  padding: 70px 90px;
	  border-radius: 30px;
	  text-align: center;
	  min-width: 420px;
	  box-shadow: 0 15px 35px rgba(0,0,0,0.25);
	  z-index: 2;
	  animation: softGlow 3s ease-in-out infinite;
	}
	@keyframes softGlow {
	  0% { box-shadow: 0 15px 35px rgba(0,0,0,0.25); }
	  50% { box-shadow: 0 18px 45px rgba(255, 77, 109, 0.35); }
	  100% { box-shadow: 0 15px 35px rgba(0,0,0,0.25); }
	}


    h1 {
	  font-size: 36px;
	  font-family: 'Pacifico', cursive;
	  margin-bottom: 40px;
	  color: #ff4d6d;
	}

    button {
	  padding: 18px 40px;
	  font-size: 22px;
	  border: none;
	  border-radius: 40px;
	  cursor: pointer;
	  margin: 15px;
	  transition: transform 0.2s ease, box-shadow 0.2s ease;
	}
	
	@keyframes pulse {
	  0% { transform: scale(1); }
	  50% { transform: scale(1.08); }
	  100% { transform: scale(1); }
	}
	button:hover {
	  transform: scale(1.08);
	  box-shadow: 0 8px 20px rgba(0,0,0,0.25);
	}

  #yes {
	  background: linear-gradient(135deg, #ff4d6d, #ff758f);
	  color: white;
	  font-weight: bold;
	  animation: pulse 1.5s infinite;
	}

	#no-placeholder {
	  display: inline-block;
	  width: 180px;   
	  height: 60px;
	}

    #no {
	  background: #adb5bd;
	  color: white;
	  z-index: 3;
	  transition: left 0.2s ease, top 0.2s ease;
	}
	
	#gif {
	  display: none;
	  margin: 25px auto 0;
	  width: 350px;
	  max-width: 70%;
	  height: auto;
	  animation: fadeIn 0.6s ease;
	}


	@keyframes fadeIn {
	  from { opacity: 0; transform: scale(0.9); }
	  to { opacity: 1; transform: scale(1); }
	}
	#blur-overlay {
	  position: fixed;
	  inset: 0;
	  backdrop-filter: blur(8px);
	  background: rgba(255, 255, 255, 0.15);
	  opacity: 0;
	  pointer-events: none;
	  transition: opacity 0.5s ease;
	  z-index: 1;
	}
	.fade-text {
		opacity: 0;
	}

	.fade-text.show {
	  animation: fadeTextIn 0.9s ease forwards;
	}

	@keyframes fadeTextIn {
	  from {
		opacity: 0;
		transform: translateY(10px);
	  }
	  to {
		opacity: 1;
		transform: translateY(0);
	  }
	}

	.fade-in {
	  opacity: 0;
	  animation: fadeTextIn 0.9s ease forwards;
	}

	#second-line {
	  font-size: 20px;
	  margin-top: 10px;
	  color: #555;
	}
	.question-wrap {
	  margin-bottom: 30px;
	}

	@keyframes softBeat {
	  0% {
		transform: scale(1);
	  }
	  10% {
		transform: scale(1.08);
	  }
	  20% {
		transform: scale(1);
	  }
	  100% {
		transform: scale(1);
	  }
	}

	.emoji-top {
	  font-size: 52px; 
	  animation: softBeat 3s ease-in-out infinite;
	  margin-bottom: 10px;
	}

	.emoji-bottom {
	  font-size: 28px;
	  margin-top: 8px;
	}

	.side-note {
	  margin-top: 14px;
	  font-size: 16px;
	  color: #777;
	  font-style: italic;
	}

	.ps-note {
	  font-size: 13px;
	  color: #aaa;
	  margin-top: 6px;
	}
	.footer-note {
	  margin-top: 30px;
	  font-size: 14px;
	  color: #999;
	  font-style: italic;
	}
	@keyframes shake {
	  0% { transform: translateX(0); }
	  20% { transform: translateX(-4px); }
	  40% { transform: translateX(4px); }
	  60% { transform: translateX(-4px); }
	  80% { transform: translateX(4px); }
	  100% { transform: translateX(0); }
	}

	.shake {
	  animation: shake 0.4s;
	}

	.no-msg {
	  position: fixed;
	  bottom: 20%;
	  left: 50%;
	  transform: translateX(-50%);
	  background: white;
	  padding: 10px 16px;
	  border-radius: 20px;
	  font-size: 14px;
	  box-shadow: 0 8px 20px rgba(0,0,0,0.2);
	  z-index: 10;
	}
	/* ğŸ“± Mobile optimizations */
	@media (max-width: 768px) {

  body {
    justify-content: flex-start;   
    align-items: stretch;
    padding: 40px 0px 48px;
    height: auto;
    min-height: 100vh;
  }


	  .box {
	  min-width: 0 !important;	
    width: calc(100% - 32px); 
    max-width: 520px;
    margin: 0 auto 40px;
    padding: 36px 22px 42px;
    border-radius: 28px;
  }

	 h1 {
		line-height: 1.25;
	  }

  .question-wrap > * {
    margin-bottom: 12px;
  }
  .question-wrap > *:last-child {
    margin-bottom: 0;
	}

  .emoji-top {
    margin-bottom: 16px;
  }

  .emoji-bottom {
    margin-top: 12px;
  }

  .side-note {
    margin-top: 16px;
    line-height: 1.4;
  }

  .ps-note {
    margin-top: 10px;
	line-height: 1.4;
  }

}
  </style>
</head>
<body>

  <div class="box">
	<div class="question-wrap" id="initial-content">
	  <div class="emoji-top">ğŸ’–</div>
	  <h1>Tukku, will you be my Valentine?</h1>
	  <div class="emoji-bottom">ğŸ¥¹ğŸ‘‰ğŸ‘ˆ</div>
	  <p class="side-note">No pressure. Just wanted to ask you this properly ğŸ’›</p>
	  <p class="ps-note">P.S. Even from different cities, this still feels special ğŸŒğŸ’–</p>
	</div>

	<h1 id="question" style="display:none;"></h1>
	<p id="second-line"></p>


    <button id="yes">Yes ğŸ˜</button>
	<span id="no-placeholder">
	  <button id="no">No ğŸ™„</button>
	</span>

    <img id="gif" src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif">
	<p class="footer-note">Made with a smile, thinking of you ğŸ’›</p>
  </div>

<div id="blur-overlay"></div>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>



<script>
const isMobile = /Mobi|Android|iPhone|iPad/i.test(navigator.userAgent);
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const gif = document.getElementById("gif");
const question = document.getElementById("question");
const AudioContextClass = window.AudioContext || window.webkitAudioContext;
const audioCtx = new AudioContextClass();

let escaped = false;

// NO button escape
if (!isMobile) {
	noBtn.addEventListener("mouseover", () => {
	// ğŸ”¥ Make YES bigger (reliable way)
	  yesBtn.style.transform = "scale(1.2)";
	  yesBtn.style.boxShadow = "0 14px 30px rgba(255, 77, 109, 0.45)";
	  if (!escaped) {
		const rect = noBtn.getBoundingClientRect();
		//noBtn.style.position = "absolute";
		noBtn.style.position = "fixed";
		noBtn.style.left = rect.left + "px";
		noBtn.style.top = rect.top + "px";
		escaped = true;
	  }

	  const padding = 30;
	  const x =
		Math.random() *
		(window.innerWidth - noBtn.offsetWidth - padding);
	  const y =
		Math.random() *
		(window.innerHeight - noBtn.offsetHeight - padding);

	  noBtn.style.left = x + "px";
	  noBtn.style.top = y + "px";
	});
}
if (isMobile) {
  noBtn.addEventListener("click", () => {
    noBtn.classList.add("shake");

    // Optional cute message
    const msg = document.createElement("div");
    msg.innerText = "Heheâ€¦ not so easy ğŸ˜„";
    msg.className = "no-msg";
    document.body.appendChild(msg);

    setTimeout(() => {
      noBtn.classList.remove("shake");
      msg.remove();
    }, 1200);
  });
}


function playPopSound() {
  if (audioCtx.state === "suspended") {
    audioCtx.resume();
  }

  const oscillator = audioCtx.createOscillator();
  const gainNode = audioCtx.createGain();

  oscillator.type = "sine";
  oscillator.frequency.setValueAtTime(900, audioCtx.currentTime);

  gainNode.gain.setValueAtTime(0.25, audioCtx.currentTime);
  gainNode.gain.exponentialRampToValueAtTime(
    0.001,
    audioCtx.currentTime + 0.12
  );

  oscillator.connect(gainNode);
  gainNode.connect(audioCtx.destination);

  oscillator.start(audioCtx.currentTime);
  oscillator.stop(audioCtx.currentTime + 0.12);
}

function vibrateTiny() {
  if (navigator.vibrate) {
    navigator.vibrate(40); // tiny haptic tap
  }
}


yesBtn.addEventListener("click", () => {

  document.getElementById("initial-content").style.display = "none";

  // Show GIF
  gif.style.display = "block";

  // Hide buttons
  yesBtn.style.display = "none";
  noBtn.style.display = "none";

  // Play pop sound
  playPopSound();

	// ğŸ“³ Mobile haptic
  vibrateTiny();
  
  // Blur + text reveal
  document.getElementById("blur-overlay").style.opacity = "1";
  // Update main text
question.style.display = "block";
question.innerText = "Somehow, I knew your answer already âœ¨";
question.classList.remove("fade-in");
void question.offsetWidth; // force reflow
question.classList.add("fade-in");

// Second line fade-in
const secondLine = document.getElementById("second-line");
setTimeout(() => {
  secondLine.innerText = "Still feels really nice, doesnâ€™t it? ğŸ’–";
  secondLine.classList.add("fade-in");
}, 1800);

  // ğŸ‰ Main confetti blast
  confetti({
    particleCount: 240,
    spread: 90,
    origin: { y: 0.6 }
  });

  // ğŸŠ Side bursts (adds drama)
  setTimeout(() => {
    confetti({
      particleCount: 120,
      angle: 60,
      spread: 55,
      origin: { x: 0 }
    });
    confetti({
      particleCount: 120,
      angle: 120,
      spread: 55,
      origin: { x: 1 }
    });
  }, 180);
});

</script>
</body>
</html>

